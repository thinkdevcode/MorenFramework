////////////////////////////////////////////////////////////
//
// Moren - 2D RPG Framework
// Copyright (C) 2009 Eugene Alfonso (gin@gtproductions.org)
//
// This software is provided 'as-is', without any express or implied warranty.
// In no event will the authors be held liable for any damages arising from the use of this software.
//
////////////////////////////////////////////////////////////

#ifndef MOREN_GAMESTATE_HPP
#define MOREN_GAMESTATE_HPP

////////////////////////////////////////////////////////////
// Headers
////////////////////////////////////////////////////////////
#include "../Kernel.hpp"

namespace mn
{

////////////////////////////////////////////////////////////
/// GameState is the base class for game states
///
////////////////////////////////////////////////////////////
class GameState
{
public:

	////////////////////////////////////////////////////////////
	/// /see Drawable::Render
	///
	////////////////////////////////////////////////////////////
	virtual void Render(RenderTarget& target, Renderer& renderer) =0;
	
	////////////////////////////////////////////////////////////
	/// Pause the state (Do not unload anything as state will
	/// be used again)
	///
	////////////////////////////////////////////////////////////
	virtual void Pause() =0;
	
	////////////////////////////////////////////////////////////
	/// Stop the state (Basically shutdown, will not be used
	/// again)
	///
	////////////////////////////////////////////////////////////
	virtual void Stop() =0;

	////////////////////////////////////////////////////////////
	/// Process Events (such as On Click, Mouse Over, etc.)
	///
	////////////////////////////////////////////////////////////
	virtual void ProcessEvent(Event& EventPacket) =0;

	////////////////////////////////////////////////////////////
	/// Set the State managers switch function to switch between
	/// different states
	///
	////////////////////////////////////////////////////////////
	void SetSwitchFunc( void (*SwitchState)(StdString, bool) );

private:

	////////////////////////////////////////////////////////////
	// Member data
	//
	////////////////////////////////////////////////////////////
	void (*SwitchFunc)(StdString, bool);	///< StateManagers state switch function
};

} // namespace Moren

#endif // MOREN_GAMESTATE_HPP