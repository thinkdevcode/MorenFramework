////////////////////////////////////////////////////////////
//
// Moren - 2D RPG Framework
// Copyright (C) 2009 Eugene Alfonso (gin@gtproductions.org)
//
// This software is provided 'as-is', without any express or implied warranty.
// In no event will the authors be held liable for any damages arising from the use of this software.
//
////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////
// Headers
//
////////////////////////////////////////////////////////////
#include "ImageManager.hpp"

namespace mn
{

////////////////////////////////////////////////////////////
// Initialize static members of Moren::ImageManager
//
////////////////////////////////////////////////////////////
ImageMap ImageManager::myImages;

////////////////////////////////////////////////////////////
// Default constructor
//
////////////////////////////////////////////////////////////
ImageManager::ImageManager()
{ }

////////////////////////////////////////////////////////////
// Get reference to image in memory. If it does not exist
// then load from file
//
////////////////////////////////////////////////////////////
Image& ImageManager::Ret(StdString& FileName)
{
	if (myImages.find(FileName) == myImages.end())
	{
		Image NewImage;
		NewImage.LoadFromFile(FileName);
		return myImages[FileName] = NewImage;
	}
	else
	{
		return myImages[FileName];
	}
}

////////////////////////////////////////////////////////////
// Get the size of the Map
//
////////////////////////////////////////////////////////////
Uint32 ImageManager::GetSize()
{
	return (Uint32)myImages.size();
}

} // namespace Moren

